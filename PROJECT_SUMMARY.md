# üìä Fraud Detection System - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

## üéØ –†–µ—à—ë–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–µ—Ç–µ–∫—Ü–∏–∏ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ –º–æ–±–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–±–∞–Ω–∫–∏–Ω–≥–µ —Å:
- ML-–º–æ–¥–µ–ª—å—é –Ω–∞ –æ—Å–Ω–æ–≤–µ CatBoost
- –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ SHAP
- REST API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

---

## üìÅ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö (`src/utils/data_loader.py`)

‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π (cp1251, sep=';')  
‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤  
‚úÖ Join –ø–æ (client_id, transaction_date)  
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–ø—É—Å–∫–æ–≤ –∏ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤  
‚úÖ –ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö  

**–§—É–Ω–∫—Ü–∏–∏:**
- `load_transactions()` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `load_behavioral_patterns()` - –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–≤–µ–¥–µ–Ω–∏—è
- `merge_datasets()` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
- `clean_data()` - –æ—á–∏—Å—Ç–∫–∞
- `load_and_prepare_data()` - –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω

---

### 2. Feature Engineering (`src/features/feature_engineering.py`)

–°–æ–∑–¥–∞–Ω–æ **30+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤**:

#### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
- hour, day_of_week, day_of_month
- is_weekend, is_night, is_morning, is_evening

#### –ü—Ä–∏–∑–Ω–∞–∫–∏ —Å—É–º–º—ã:
- log_amount
- amount_bucket (–∫–≤–∞–Ω—Ç–∏–ª–∏)
- is_round_amount, is_round_100

#### –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∫–ª–∏–µ–Ω—Ç–∞:
- client_tx_count (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—à–ª—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
- client_avg_amount, client_median_amount
- amount_vs_median, amount_vs_avg (–ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ –∫—Ä—É–ø–Ω—ã–µ –ø–µ—Ä–µ–≤–æ–¥—ã)
- client_max_amount, is_new_max

#### –°–≤—è–∑–∫–∞ –∫–ª–∏–µ–Ω—Ç-–ø–æ–ª—É—á–∞—Ç–µ–ª—å:
- is_new_destination (–ø–µ—Ä–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥ —ç—Ç–æ–º—É –ø–æ–ª—É—á–∞—Ç–µ–ª—é?)
- dest_tx_count (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –ø–æ–ª—É—á–∞—Ç–µ–ª—é)

#### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª—è:
- dest_fraud_rate (–¥–æ–ª—è –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–∞ –ø–æ–ª—É—á–∞—Ç–µ–ª—è)
- dest_total_tx (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
- dest_unique_clients (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–æ–≤)

#### Velocity-–ø—Ä–∏–∑–Ω–∞–∫–∏:
- time_since_last_tx (–≤—Ä–µ–º—è —Å –º–æ–º–µ–Ω—Ç–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏)
- is_quick_succession (–±—ã—Å—Ç—Ä–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å < 1 —á–∞—Å–∞)

**–ö–ª–∞—Å—Å:** `FraudFeatureEngineer` —Å –º–µ—Ç–æ–¥–æ–º `fit_transform()`

---

### 3. –ú–æ–¥–µ–ª—å –¥–µ—Ç–µ–∫—Ü–∏–∏ (`src/models/fraud_model.py`)

‚úÖ **CatBoost** –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä  
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–∞–∑–±–∏–µ–Ω–∏–µ (train/valid/test)  
‚úÖ –ü–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞ –ø–æ F2-score  
‚úÖ –†–∞—Å—á—ë—Ç –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ (ROC-AUC, Precision, Recall, F1, F2)  
‚úÖ –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏ (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –ª–æ–∂–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)  
‚úÖ Feature importance  
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏  

**–ö–ª–∞—Å—Å:** `FraudDetectionModel`

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `prepare_features()` - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- `temporal_split()` - —Ä–∞–∑–±–∏–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
- `train()` - –æ–±—É—á–µ–Ω–∏–µ
- `predict_proba()`, `predict()` - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
- `evaluate()` - –æ—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞
- `find_optimal_threshold()` - –ø–æ–∏—Å–∫ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞
- `get_feature_importance()` - –≤–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- `save()`, `load()` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞

---

### 4. –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ SHAP (`src/models/explainer.py`)

‚úÖ –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è (–∫–∞–∫–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–∞–∂–Ω—ã –≤ —Å—Ä–µ–¥–Ω–µ–º)  
‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è (–ø–æ—á–µ–º—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è - –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ)  
‚úÖ SHAP summary plots, waterfall plots  
‚úÖ –¢–æ–ø-N –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö –∏ —á–∏—Å—Ç—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π  

**–ö–ª–∞—Å—Å:** `ModelExplainer`

**–ú–µ—Ç–æ–¥—ã:**
- `explain_global()` - –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ
- `explain_instance()` - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `get_top_features_for_instance()` - —Ç–æ–ø –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
- `explain_fraud_vs_clean()` - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ –∏ –ª–µ–≥–∏—Ç–∏–º–∞

---

### 5. –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è (`train.py`)

–ü–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω –æ–±—É—á–µ–Ω–∏—è:

1. ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ Feature engineering
3. ‚úÖ –†–∞–∑–±–∏–µ–Ω–∏–µ train/valid/test –ø–æ –≤—Ä–µ–º–µ–Ω–∏
4. ‚úÖ –û–±—É—á–µ–Ω–∏–µ CatBoost
5. ‚úÖ –ü–æ–¥–±–æ—Ä –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä–æ–≥–∞
6. ‚úÖ –û—Ü–µ–Ω–∫–∞ –Ω–∞ –≤—Å–µ—Ö —Å–ø–ª–∏—Ç–∞—Ö
7. ‚úÖ Feature importance
8. ‚úÖ SHAP analysis
9. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –∏ –æ—Ç—á—ë—Ç–æ–≤

**–ó–∞–ø—É—Å–∫:** `python train.py`

**–í—ã—Ö–æ–¥:**
- –ú–æ–¥–µ–ª—å: `models/fraud_detection_model.pkl`
- –ì—Ä–∞—Ñ–∏–∫–∏: `reports/*.png`
- –ú–µ—Ç—Ä–∏–∫–∏: `reports/test_metrics.csv`

---

### 6. Inference (`inference.py`)

‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  
‚úÖ –ü–∞–∫–µ—Ç–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ  
‚úÖ –û–±—ä—è—Å–Ω–µ–Ω–∏—è (SHAP)  
‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (OK / –ü–†–û–í–ï–†–ò–¢–¨ / –ë–õ–û–ö–ò–†–û–í–ê–¢–¨)  

**–ö–ª–∞—Å—Å:** `FraudPredictor`

**–ú–µ—Ç–æ–¥—ã:**
- `predict_single_transaction()` - –æ–¥–Ω–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
- `predict_batch()` - –ø–∞–∫–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–ó–∞–ø—É—Å–∫:** `python inference.py` (–¥–µ–º–æ)

---

### 7. REST API (`api.py`)

‚úÖ FastAPI —Å–µ—Ä–≤–µ—Ä  
‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `POST /predict` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `GET /model/info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–¥–µ–ª–∏
- `POST /model/set_threshold` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞
- `GET /health` - health check

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (Swagger UI)  
‚úÖ CORS middleware  
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —á–µ—Ä–µ–∑ Pydantic  

**–ó–∞–ø—É—Å–∫:** `python api.py`  
**URL:** http://localhost:8000  
**Docs:** http://localhost:8000/docs

---

### 8. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (`app.py`)

‚úÖ **Streamlit** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
‚úÖ –î–≤–∞ —Ä–µ–∂–∏–º–∞:
1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** - –≤–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
2. **–ü–∞–∫–µ—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - –∑–∞–≥—Ä—É–∑–∫–∞ CSV

‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞ —á–µ—Ä–µ–∑ —Å–ª–∞–π–¥–µ—Ä
- Gauge chart –¥–ª—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
- –¢–æ–ø-—Ñ–∞–∫—Ç–æ—Ä—ã (SHAP)
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–∏—Å–∫–∞

‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Plotly

**–ó–∞–ø—É—Å–∫:** `streamlit run app.py`  
**URL:** http://localhost:8501

---

### 9. –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

#### `setup_check.py`
–ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã:
- Python –≤–µ—Ä—Å–∏—è
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ù–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–ø—É—Å–∫:** `python setup_check.py`

---

### 10. Exploratory Data Analysis (`notebooks/01_eda.ipynb`)

Jupyter notebook —Å –∞–Ω–∞–ª–∏–∑–æ–º –¥–∞–Ω–Ω—ã—Ö:
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–µ—Ä–≤–∏—á–Ω—ã–π –æ—Å–º–æ—Ç—Ä
- –ê–Ω–∞–ª–∏–∑ —Ç–∞—Ä–≥–µ—Ç–∞ (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
- –ê–Ω–∞–ª–∏–∑ —Å—É–º–º—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- Feature engineering
- –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- –ü—Ä–æ–ø—É—Å–∫–∏ –≤ –¥–∞–Ω–Ω—ã—Ö

**–ó–∞–ø—É—Å–∫:** `jupyter notebook notebooks/01_eda.ipynb`

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### ML-–º–µ—Ç—Ä–∏–∫–∏ (–Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ):
- **ROC-AUC**: –≤—ã—Å–æ–∫–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–∞—Ç—å –∫–ª–∞—Å—Å—ã
- **Precision**: —Ç–æ—á–Ω–æ—Å—Ç—å (–º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –ª–æ–∂–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫)
- **Recall**: –ø–æ–ª–Ω–æ—Ç–∞ (–Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ)
- **F1-score**: –±–∞–ª–∞–Ω—Å precision/recall
- **F2-score**: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç recall (–≤–∞–∂–Ω–µ–µ –ø–æ–π–º–∞—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ)

### –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—à–µ–Ω–Ω–∏—á–µ—Å–∫–∏—Ö –ø–µ—Ä–µ–≤–æ–¥–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–∂–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (–ª–µ–≥–∏—Ç–∏–º–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤)
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π trade-off —á–µ—Ä–µ–∑ –ø–æ—Ä–æ–≥

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:
- Feature importance (—Ç–æ–ø-20 –ø—Ä–∏–∑–Ω–∞–∫–æ–≤)
- SHAP summary plots (–≥–ª–æ–±–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ)
- SHAP waterfall plots (–ª–æ–∫–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)

---

## üé® –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –∂—é—Ä–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –õ–µ–≥–∏—Ç–∏–º–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
```
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –°—É–º–º–∞: 5 000 ‚ÇΩ (–æ–±—ã—á–Ω–∞—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞)
- –ü–æ–ª—É—á–∞—Ç–µ–ª—å: –∏–∑–≤–µ—Å—Ç–Ω—ã–π
- –í—Ä–µ–º—è: 14:00, –±—É–¥–Ω–∏–π –¥–µ–Ω—å
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 5%, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è "OK"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è
```
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- –°—É–º–º–∞: 50 000 ‚ÇΩ (–≤ 10 —Ä–∞–∑ –±–æ–ª—å—à–µ –æ–±—ã—á–Ω–æ–π)
- –ü–æ–ª—É—á–∞—Ç–µ–ª—å: –Ω–æ–≤—ã–π (–ø–µ—Ä–≤—ã–π –ø–µ—Ä–µ–≤–æ–¥)
- –í—Ä–µ–º—è: 02:00, –≤—ã—Ö–æ–¥–Ω–æ–π
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 85%, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è "–ë–õ–û–ö–ò–†–û–í–ê–¢–¨"

–û–±—ä—è—Å–Ω–µ–Ω–∏–µ (—Ç–æ–ø —Ñ–∞–∫—Ç–æ—Ä—ã):
1. amount_vs_median = 10.0 ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ (+0.45)
2. is_new_destination = 1 ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ (+0.32)
3. is_night = 1 ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ (+0.18)
4. is_weekend = 1 ‚Üí —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Ä–∏—Å–∫ (+0.12)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞
```
–ü–æ–∫–∞–∑–∞—Ç—å precision-recall –∫—Ä–∏–≤—É—é
–î–≤–∏–≥–∞—Ç—å –ø–æ—Ä–æ–≥ –æ—Ç 0.3 –¥–æ 0.7
–ü–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –º–µ–Ω—è—é—Ç—Å—è FP/FN
```

---

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### ML & Data Science:
- **pandas** - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
- **numpy** - —á–∏—Å–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **scikit-learn** - preprocessing, –º–µ—Ç—Ä–∏–∫–∏
- **CatBoost** - –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å
- **LightGBM**, **XGBoost** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏
- **SHAP** - –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:
- **matplotlib**, **seaborn** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏
- **plotly** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏

### API & Web:
- **FastAPI** - REST API
- **Uvicorn** - ASGI —Å–µ—Ä–≤–µ—Ä
- **Streamlit** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### –£—Ç–∏–ª–∏—Ç—ã:
- **joblib** - —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥–µ–ª–µ–π

---

## üìÇ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
forte/
‚îú‚îÄ‚îÄ data/                           # –î–∞–Ω–Ω—ã–µ (–Ω–µ –≤ git)
‚îÇ   ‚îú‚îÄ‚îÄ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ –ú–æ–±–∏–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –ë–∞–Ω–∫–∏–Ω–≥–µ.csv
‚îÇ   ‚îî‚îÄ‚îÄ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–ª–∏–µ–Ω—Ç–æ–≤.csv
‚îÇ
‚îú‚îÄ‚îÄ src/                            # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ data_loader.py         # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ feature_engineering.py # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ models/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ fraud_model.py         # –ú–æ–¥–µ–ª—å
‚îÇ       ‚îî‚îÄ‚îÄ explainer.py           # SHAP –æ–±—ä—è—Å–Ω–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ models/                         # –û–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–Ω–µ –≤ git)
‚îÇ   ‚îî‚îÄ‚îÄ fraud_detection_model.pkl
‚îÇ
‚îú‚îÄ‚îÄ reports/                        # –û—Ç—á—ë—Ç—ã –∏ –≥—Ä–∞—Ñ–∏–∫–∏ (–Ω–µ –≤ git)
‚îÇ   ‚îú‚îÄ‚îÄ feature_importance.png
‚îÇ   ‚îú‚îÄ‚îÄ shap_summary.png
‚îÇ   ‚îî‚îÄ‚îÄ threshold_optimization.png
‚îÇ
‚îú‚îÄ‚îÄ notebooks/                      # Jupyter notebooks
‚îÇ   ‚îî‚îÄ‚îÄ 01_eda.ipynb               # EDA
‚îÇ
‚îú‚îÄ‚îÄ train.py                        # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ inference.py                    # –°–∫—Ä–∏–ø—Ç –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
‚îú‚îÄ‚îÄ api.py                          # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ app.py                          # Streamlit –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ setup_check.py                  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ requirements.txt                # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .gitignore                      # Git ignore
‚îú‚îÄ‚îÄ README.md                       # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICKSTART.md                   # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îî‚îÄ‚îÄ PROJECT_SUMMARY.md             # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º —Ö–∞–∫–∞—Ç–æ–Ω–∞

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

‚úÖ **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞** - –º–æ–¥–µ–ª—å –≤—ã–¥–∞—ë—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 0-1  
‚úÖ **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –ø–æ—Ä–æ–≥** - –ª–µ–≥–∫–æ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ API –∏–ª–∏ UI  
‚úÖ **–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ—à–µ–Ω–∏–π** - SHAP –¥–ª—è –∫–∞–∂–¥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  

### ML-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

‚úÖ **Precision, Recall, F-beta** - —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
‚úÖ **ROC-AUC** - –æ—Å–Ω–æ–≤–Ω–∞—è –º–µ—Ç—Ä–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞  
‚úÖ **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - Feature Importance + SHAP  

### –ë–∏–∑–Ω–µ—Å-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:

‚úÖ **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è  
‚úÖ **–ë—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á—ë—Ç** - –ø—Ä–∏–∑–Ω–∞–∫–∏ —Å—á–∏—Ç–∞—é—Ç—Å—è –∑–∞ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥—ã  
‚úÖ **–î–æ–æ–±—É—á–µ–Ω–∏–µ** - –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å train.py  

### Usability:

‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –∫—Ä–∞—Å–∏–≤—ã–π Streamlit UI  
‚úÖ **REST API** - –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏  
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - README, QUICKSTART, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ  

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å (–∫—Ä–∞—Ç–∫–æ)

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∫–∞
python setup_check.py

# 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
pip install -r requirements.txt

# 3. –ü–æ–ª–æ–∂–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ data/

# 4. –û–±—É—á–µ–Ω–∏–µ
python train.py

# 5. –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
streamlit run app.py

# –ò–ª–∏ API
python api.py
```

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

1. **Production-ready**: –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
2. **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º–æ**: –∫–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –æ–±—ä—è—Å–Ω–∏–º–æ
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ**: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏
4. **–ì–∏–±–∫–æ**: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–æ—Ä–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏
5. **–£–¥–æ–±–Ω–æ**: –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + API
6. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ**: –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

---

## üìà –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ:
- –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ (–≤—Ä–µ–º—è –≥–æ–¥–∞, –º–µ—Å—è—Ü)
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å ensemble –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥–µ–ª–µ–π
- –î–æ–±–∞–≤–∏—Ç—å A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ:
- Online-learning –¥–ª—è –¥–æ–æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retraining –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- Graph Neural Networks –¥–ª—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–∞–º–∏

---

## üë• –ö–æ–º–∞–Ω–¥–∞

[–í–∞—à–µ –∏–º—è / –∫–æ–º–∞–Ω–¥–∞]

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π: [email]

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 21.11.2024  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
